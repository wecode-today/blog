title: 四川车侣网优化分析
date: 2015/05/02 15:29:00
categories:
  - web
tags:
  - 性能
---

# 车侣网存在问题

## 首页加载慢
车侣网首页加载时间超长，需要30秒以上时间。

我们看看Chrome的加载记录：

![homepage](http://7vzu7z.com1.z0.glb.clouddn.com/2015/05/02/shichuanchelv.png)

通过加载记录我们可以很清楚的发现，图片加载占用了太多的时间。为什么图片加载这么慢？因为浏览器跟站点的并发数目是有限制的，一般是4-6个。这意味着如果把大量的图片都放在一个网站上，浏览器下载的效率很低，很多图片会处于pending状态，等待下载完成。

我们有什么办法改进首页的加载呢？方法如下：

1. 有些图片的效果当前通过css文件已经可以完全实现。因此这部分的图片就直接转换为css代码，省去了单个文件的下载，容量也小很多。
2. 采用按需加载图片模式。用户当前看到的部分才加载图片，看不到的就不加载，这也能极大得提升加载速度。
3. 将图片保存在[又拍云](https://www.upyun.com/index.html)或者[七牛云](www.qiniu.com)这种专业的图片存储商上，价格挺便宜。

## 网站设计不合理
商城是一个负荷很高的网站，不应该跟车侣网放在同一个服务器上，应该单独放一个服务器。


